(function(c){c.fn.iSlider=function(p){var a=jQuery.extend({id:"",min:0,max:100},p);return this.each(function(){a.id="#"+this.id;var b=c(a.id).val(),j=c(a.id).offset(),l=c(a.id).outerHeight(),m=0,k={top:0,left:0},n=0,d=!1,e=0,f=!1,g=0;c(a.id).on("click",function(){if(!1==d){b=c(a.id).val();j=c(a.id).offset();l=c(a.id).outerHeight();n=a.max-a.min;var h=c("<div class='scontainer' ></div>").css({top:j.top+l,left:j.left,position:"absolute"}).append("<div class='sbar' style='width:"+n+"px' ><div class='shandle'>&nbsp;</div></div>"); h.mousedown(function(){f=!0;return!1}).mouseup(function(a){a.stopPropagation();f=!1});c("body").append(h);k=c(".sbar").offset();g=c(".shandle").width()/2;""==b?b=a.min:b<a.min?b=a.min:b>a.max&&(b=a.max);e=Math.round(b)-a.min-Math.round(g);c(".shandle").css({left:e});d=!0}return!1}).on("keyup",function(){!0==d&&(b=c(a.id).val(),""==b?b=a.min:b<a.min?b=a.min:b>a.max&&(b=a.max),e=Math.round(b)-a.min-Math.round(g),c(".shandle").css({left:e}));return!1});c(document).mousemove(function(h){!0==d&&f&&(m= h.pageX,b=Math.round(m-k.left+a.min),b<a.min?b=a.min:b>a.max&&(b=a.max),e=k.left+b-a.min-g,c(".shandle").offset({left:e}),c(a.id).val(b).change())}).mouseup(function(){f=!1;d&&(d=!1,c(".scontainer").remove())})})}})(jQuery);